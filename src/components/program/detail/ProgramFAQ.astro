---
interface Props {
    items: {
        q: string;
        a: string;
    }[];
}

const { items } = Astro.props;
const normalizeLine = (text: string) => text.replace(/\s+/g, " ").trim();
const normalizeTextBlock = (text: string) => text
    .split("\n")
    .map((line) => line.replace(/\s+/g, " ").trim())
    .join("\n")
    .replace(/\n{3,}/g, "\n\n")
    .trim();
---

<section class="py-12 md:py-16 bg-white">
    <div class="container mx-auto">
        <div class="flex flex-col md:flex-row gap-10 md:gap-12">
            <div class="md:w-[50%] lg:w-2/5">
                <h2 class="text-2xl md:text-3xl font-heading font-bold text-ultimate-blue mb-4">Seputar<br />Ultimate Education</h2>
                <p class="text-slate-500 text-sm">Punya pertanyaan lain? Jangan ragu untuk menghubungi konsultan kami.</p>
            </div>

            <div class="md:w-[50%] lg:w-3/5 space-y-0">
                {
                    items.map((item) => (
                        <details class="group border-b border-slate-100 last:border-0">
                            <summary class="flex items-center justify-between cursor-pointer py-4 list-none text-slate-800 font-semibold hover:text-ultimate-blue transition-colors text-sm md:text-[15px]">
                                <span class="pr-4">{normalizeLine(item.q)}</span>
                                <div class="w-7 h-7 shrink-0 rounded-full bg-slate-50 flex items-center justify-center group-open:bg-ultimate-blue group-open:text-white transition-all duration-200">
                                    <svg
                                        class="w-3.5 h-3.5 transform group-open:rotate-180 transition-transform duration-200"
                                        fill="none"
                                        stroke="currentColor"
                                        viewBox="0 0 24 24"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                    >
                                        <path d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </summary>
                            <div class="pb-5 text-slate-600 leading-relaxed text-sm whitespace-pre-line text-justify">{normalizeTextBlock(item.a)}</div>
                        </details>
                    ))
                }
            </div>
        </div>
    </div>
</section>
